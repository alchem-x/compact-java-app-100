import javax.swing.*;
import java.awt.*;
import java.awt.event.ActionEvent;
import java.awt.event.KeyEvent;
import java.awt.datatransfer.StringSelection;
import java.awt.datatransfer.Clipboard;

// Apple ËÆæËÆ°Á≥ªÁªüÂ∏∏Èáè
class AppleDesign {
    // È¢úËâ≤Á≥ªÁªü
    static final Color SYSTEM_BLUE = new Color(0, 122, 255);
    static final Color SYSTEM_GREEN = new Color(52, 199, 89);
    static final Color SYSTEM_INDIGO = new Color(88, 86, 214);
    static final Color SYSTEM_ORANGE = new Color(255, 149, 0);
    static final Color SYSTEM_PINK = new Color(255, 45, 85);
    static final Color SYSTEM_PURPLE = new Color(175, 82, 222);
    static final Color SYSTEM_RED = new Color(255, 59, 48);
    static final Color SYSTEM_TEAL = new Color(90, 200, 250);
    static final Color SYSTEM_YELLOW = new Color(255, 204, 0);

    // ÁÅ∞Ëâ≤Á≥ªÁªü
    static final Color SYSTEM_GRAY = new Color(142, 142, 147);
    static final Color SYSTEM_GRAY2 = new Color(174, 174, 178);
    static final Color SYSTEM_GRAY3 = new Color(199, 199, 204);
    static final Color SYSTEM_GRAY4 = new Color(209, 209, 214);
    static final Color SYSTEM_GRAY5 = new Color(229, 229, 234);
    static final Color SYSTEM_GRAY6 = new Color(242, 242, 247);

    // ËÉåÊôØËâ≤
    static final Color SECONDARY_SYSTEM_BACKGROUND = new Color(247, 247, 247);
    static final Color TERTIARY_SYSTEM_BACKGROUND = new Color(255, 255, 255);

    // Â≠ó‰ΩìÁ≥ªÁªü
    static final Font HEADLINE_FONT = new Font("SF Pro Display", Font.BOLD, 24);
    static final Font TITLE_FONT = new Font("SF Pro Display", Font.BOLD, 18);
    static final Font BODY_FONT = new Font("SF Pro Text", Font.PLAIN, 14);
    static final Font CALLOUT_FONT = new Font("SF Pro Text", Font.PLAIN, 12);
    static final Font CAPTION_FONT = new Font("SF Pro Text", Font.PLAIN, 11);
    static final Font MONO_FONT = new Font("SF Mono", Font.PLAIN, 12);

    // Èó¥Ë∑ùÁ≥ªÁªü
    static final int SMALL_SPACING = 4;
    static final int MEDIUM_SPACING = 8;
    static final int LARGE_SPACING = 16;
    static final int EXTRA_LARGE_SPACING = 20;

    // ÂúÜËßíÁ≥ªÁªü
    static final int SMALL_RADIUS = 4;
    static final int MEDIUM_RADIUS = 8;
    static final int LARGE_RADIUS = 12;
    static final int EXTRA_LARGE_RADIUS = 16;

    // ÊåâÈíÆÊ†∑Âºè
    static void styleButton(JButton button, Color bgColor, Color fgColor) {
        button.setBackground(bgColor);
        button.setForeground(fgColor);
        button.setFont(BODY_FONT);
        button.setBorder(BorderFactory.createEmptyBorder(8, 16, 8, 16));
        button.setFocusPainted(false);
        button.setBorderPainted(false);
        button.setOpaque(true);
        button.setCursor(new Cursor(Cursor.HAND_CURSOR));

        // ÊÇ¨ÂÅúÊïàÊûú
        button.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                button.setBackground(bgColor.brighter());
            }
            public void mouseExited(java.awt.event.MouseEvent evt) {
                button.setBackground(bgColor);
            }
        });
    }

    // ÂàõÂª∫ÂúÜËßíÈù¢Êùø
    static JPanel createRoundedPanel(int radius, Color bgColor) {
        var panel = new JPanel() {
            @Override
            protected void paintComponent(Graphics g) {
                super.paintComponent(g);
                var g2 = (Graphics2D) g.create();
                g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);
                g2.setColor(bgColor);
                g2.fillRoundRect(0, 0, getWidth(), getHeight(), radius, radius);
                g2.dispose();
            }
        };
        panel.setOpaque(false);
        return panel;
    }
}

// ÊñáÊú¨ÁÆ°ÁêÜÈùôÊÄÅÂÜÖÈÉ®Á±ª
static class Texts {
    // Á™óÂè£Ê†áÈ¢ò
    static final String WINDOW_TITLE = "üî¢ ËøõÂà∂ËΩ¨Êç¢Âô®";

    // ‰∏ªÁïåÈù¢Ê†áÈ¢ò
    static final String MAIN_TITLE = "üî¢ Êï∞Â≠óËøõÂà∂ËΩ¨Êç¢Âô®";

    // ÊåâÈíÆÊñáÊú¨
    static final String CONVERT_BUTTON = "ËΩ¨Êç¢";
    static final String CLEAR_BUTTON = "Ê∏ÖÁ©∫";
    static final String COPY_ALL_BUTTON = "Â§çÂà∂ÂÖ®ÈÉ®";
    static final String COPY_BINARY_BUTTON = "Â§çÂà∂‰∫åËøõÂà∂";
    static final String COPY_OCTAL_BUTTON = "Â§çÂà∂ÂÖ´ËøõÂà∂";
    static final String COPY_DECIMAL_BUTTON = "Â§çÂà∂ÂçÅËøõÂà∂";
    static final String COPY_HEX_BUTTON = "Â§çÂà∂ÂçÅÂÖ≠ËøõÂà∂";

    // Èù¢ÊùøÊ†áÈ¢ò
    static final String INPUT_PANEL_TITLE = "ËæìÂÖ•Êï∞Â≠ó";
    static final String OUTPUT_PANEL_TITLE = "ËΩ¨Êç¢ÁªìÊûú";
    static final String BIT_PANEL_TITLE = "‰ΩçË°®Á§∫";
    static final String HISTORY_PANEL_TITLE = "ÂéÜÂè≤ËÆ∞ÂΩï";

    // Ê†áÁ≠æÊñáÊú¨
    static final String DECIMAL_LABEL = "ÂçÅËøõÂà∂:";
    static final String BINARY_LABEL = "‰∫åËøõÂà∂:";
    static final String OCTAL_LABEL = "ÂÖ´ËøõÂà∂:";
    static final String HEX_LABEL = "ÂçÅÂÖ≠ËøõÂà∂:";
    static final String STATUS_READY = "Â∞±Áª™";
    static final String STATUS_CONVERTED = "ËΩ¨Êç¢ÂÆåÊàê";
    static final String STATUS_CLEARED = "ÂÜÖÂÆπÂ∑≤Ê∏ÖÁ©∫";
    static final String STATUS_COPIED = "Â∑≤Â§çÂà∂Âà∞Ââ™Ë¥¥Êùø";

    // ÈîôËØØÊ∂àÊÅØ
    static final String ERROR_INVALID_INPUT = "ËØ∑ËæìÂÖ•ÊúâÊïàÁöÑÊï∞Â≠ó";
    static final String ERROR_NUMBER_TOO_LARGE = "Êï∞Â≠óÂ§™Â§ßÔºåË∂ÖÂá∫Â§ÑÁêÜËåÉÂõ¥";
    static final String ERROR_COPY_FAILED = "Â§çÂà∂Âà∞Ââ™Ë¥¥ÊùøÂ§±Ë¥•";

    // Á§∫‰æãÊï∞ÊçÆ
    static final String SAMPLE_DECIMAL = "255";
    static final String SAMPLE_BINARY = "11111111";
    static final String SAMPLE_OCTAL = "377";
    static final String SAMPLE_HEX = "FF";

    // ËøõÂà∂ËØ¥Êòé
    static final String BINARY_DESCRIPTION = "‰∫åËøõÂà∂ (Âü∫Êï∞2): ‰ΩøÁî®0Âíå1Ë°®Á§∫Êï∞Â≠ó";
    static final String OCTAL_DESCRIPTION = "ÂÖ´ËøõÂà∂ (Âü∫Êï∞8): ‰ΩøÁî®0-7Ë°®Á§∫Êï∞Â≠ó";
    static final String DECIMAL_DESCRIPTION = "ÂçÅËøõÂà∂ (Âü∫Êï∞10): ‰ΩøÁî®0-9Ë°®Á§∫Êï∞Â≠ó";
    static final String HEX_DESCRIPTION = "ÂçÅÂÖ≠ËøõÂà∂ (Âü∫Êï∞16): ‰ΩøÁî®0-9ÂíåA-FË°®Á§∫Êï∞Â≠ó";

    // ‰ΩçË°®Á§∫ËØ¥Êòé
    static final String BIT_DESCRIPTION = "‰ΩçË°®Á§∫ÊòæÁ§∫‰∫ÜÊï∞Â≠óÂú®ÂÜÖÂ≠ò‰∏≠ÁöÑ‰∫åËøõÂà∂ÂΩ¢Âºè";
    static final String BIT_PATTERN_DESCRIPTION = "ÊØè‰∏™‰Ωç‰ª£Ë°®‰∏Ä‰∏™2ÁöÑÂπÇÊ¨°Êñπ";

    // Êñá‰ª∂ÂØπËØùÊ°Ü
    static final String FILE_CHOOSER_SAVE_TITLE = "‰øùÂ≠òËøõÂà∂ËΩ¨Êç¢ÁªìÊûú";
    static final String FILE_FILTER_TEXT = "ÊñáÊú¨Êñá‰ª∂ (*.txt)";

    // Â∏ÆÂä©‰ø°ÊÅØ
    static final String HELP_MESSAGE = """
        Êï∞Â≠óËøõÂà∂ËΩ¨Êç¢Âô®‰ΩøÁî®ËØ¥ÊòéÔºö

        ‚Ä¢ Âú®‰ªªÊÑèËøõÂà∂ËæìÂÖ•Ê°Ü‰∏≠ËæìÂÖ•Êï∞Â≠ó
        ‚Ä¢ ÁÇπÂáª"ËΩ¨Êç¢"ÊåâÈíÆÊàñÊåâÂõûËΩ¶ÈîÆËøõË°åËΩ¨Êç¢
        ‚Ä¢ ÊîØÊåÅ‰∫åËøõÂà∂„ÄÅÂÖ´ËøõÂà∂„ÄÅÂçÅËøõÂà∂„ÄÅÂçÅÂÖ≠ËøõÂà∂‰πãÈó¥ÁöÑÁõ∏‰∫íËΩ¨Êç¢
        ‚Ä¢ ‰ΩçË°®Á§∫Èù¢ÊùøÊòæÁ§∫Êï∞Â≠óÁöÑ‰∫åËøõÂà∂‰ΩçÊ®°Âºè
        ‚Ä¢ ‰ΩøÁî®Â§çÂà∂ÊåâÈíÆÂèØ‰ª•Âø´ÈÄüÂ§çÂà∂ËΩ¨Êç¢ÁªìÊûú

        ËøõÂà∂ËØ¥ÊòéÔºö
        ‚Ä¢ ‰∫åËøõÂà∂ (Base 2): ‰ΩøÁî®0Âíå1ÔºåËÆ°ÁÆóÊú∫ÁöÑÂü∫Á°ÄËøõÂà∂
        ‚Ä¢ ÂÖ´ËøõÂà∂ (Base 8): ‰ΩøÁî®0-7ÔºåÊó©ÊúüËÆ°ÁÆóÊú∫Â∏∏Áî®
        ‚Ä¢ ÂçÅËøõÂà∂ (Base 10): ‰ΩøÁî®0-9Ôºå‰∫∫Á±ªÂ∏∏Áî®ËøõÂà∂
        ‚Ä¢ ÂçÅÂÖ≠ËøõÂà∂ (Base 16): ‰ΩøÁî®0-9ÂíåA-FÔºåÁºñÁ®ãÂ∏∏Áî®

        ‰ΩøÁî®ÊäÄÂ∑ßÔºö
        ‚Ä¢ ËæìÂÖ•ÂçÅËøõÂà∂255ÂèØ‰ª•Êü•ÁúãÂÖ∂‰∫åËøõÂà∂„ÄÅÂÖ´ËøõÂà∂„ÄÅÂçÅÂÖ≠ËøõÂà∂Ë°®Á§∫
        ‚Ä¢ ËæìÂÖ•‰∫åËøõÂà∂11111111ÂèØ‰ª•Êü•ÁúãÂÖ∂‰ªñËøõÂà∂Ë°®Á§∫
        ‚Ä¢ ‰ΩçË°®Á§∫ÊúâÂä©‰∫éÁêÜËß£Êï∞Â≠óÁöÑÂ≠òÂÇ®ÊñπÂºè

        Âø´Êç∑ÈîÆÔºö
        Ctrl+C - ËΩ¨Êç¢Êï∞Â≠ó
        Ctrl+L - Ê∏ÖÁ©∫
        Ctrl+B - Â§çÂà∂‰∫åËøõÂà∂
        Ctrl+O - Â§çÂà∂ÂÖ´ËøõÂà∂
        Ctrl+D - Â§çÂà∂ÂçÅËøõÂà∂
        Ctrl+H - Â§çÂà∂ÂçÅÂÖ≠ËøõÂà∂
        Ctrl+A - Â§çÂà∂ÂÖ®ÈÉ®
        F1 - ÊòæÁ§∫Â∏ÆÂä©
        """;
}

void main(String[] args) {
    SwingUtilities.invokeLater(() -> new NumberBaseConverter().setVisible(true));
}

static class NumberBaseConverter extends JFrame {
    private final JTextField decimalField;
    private final JTextField binaryField;
    private final JTextField octalField;
    private final JTextField hexField;
    private final JButton convertButton;
    private final JButton clearButton;
    private final JButton copyAllButton;
    private final JLabel statusLabel;
    private final JTextArea bitRepresentationArea;
    
    public NumberBaseConverter() {
        decimalField = new JTextField();
        binaryField = new JTextField();
        octalField = new JTextField();
        hexField = new JTextField();
        convertButton = new JButton(Texts.CONVERT_BUTTON);
        clearButton = new JButton(Texts.CLEAR_BUTTON);
        copyAllButton = new JButton(Texts.COPY_ALL_BUTTON);
        statusLabel = new JLabel(Texts.STATUS_READY);
        bitRepresentationArea = new JTextArea();

        initializeGUI();
        setupEventHandlers();
        loadSampleData();
        setupKeyboardShortcuts();
    }
    
    private void initializeGUI() {
        setTitle(Texts.WINDOW_TITLE);
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        setLayout(new BorderLayout());
        getContentPane().setBackground(AppleDesign.SECONDARY_SYSTEM_BACKGROUND);
        
        // ÂàõÂª∫‰∏ªÈù¢Êùø
        createMainPanel();
        
        // ÂàõÂª∫ÊéßÂà∂Èù¢Êùø
        createControlPanel();
        
        // ÂàõÂª∫Áä∂ÊÄÅÊ†è
        createStatusBar();
        
        setSize(500, 400);
        setLocationRelativeTo(null);
    }
    
    private void createMainPanel() {
        var mainPanel = AppleDesign.createRoundedPanel(AppleDesign.MEDIUM_RADIUS, AppleDesign.TERTIARY_SYSTEM_BACKGROUND);
        mainPanel.setLayout(new BoxLayout(mainPanel, BoxLayout.Y_AXIS));
        mainPanel.setBorder(BorderFactory.createEmptyBorder(AppleDesign.EXTRA_LARGE_SPACING, AppleDesign.EXTRA_LARGE_SPACING, AppleDesign.EXTRA_LARGE_SPACING, AppleDesign.EXTRA_LARGE_SPACING));

        // Ê†áÈ¢ò
        var titleLabel = new JLabel(Texts.MAIN_TITLE);
        titleLabel.setFont(AppleDesign.HEADLINE_FONT);
        titleLabel.setForeground(AppleDesign.SYSTEM_BLUE);
        titleLabel.setAlignmentX(Component.CENTER_ALIGNMENT);
        titleLabel.setBorder(BorderFactory.createEmptyBorder(0, 0, AppleDesign.LARGE_SPACING, 0));
        mainPanel.add(titleLabel);

        // ËøõÂà∂ËæìÂÖ•Èù¢Êùø
        var inputPanel = AppleDesign.createRoundedPanel(AppleDesign.SMALL_RADIUS, AppleDesign.SECONDARY_SYSTEM_BACKGROUND);
        inputPanel.setLayout(new GridLayout(4, 2, AppleDesign.MEDIUM_SPACING, AppleDesign.MEDIUM_SPACING));
        inputPanel.setBorder(BorderFactory.createEmptyBorder(AppleDesign.LARGE_SPACING, AppleDesign.LARGE_SPACING, AppleDesign.LARGE_SPACING, AppleDesign.LARGE_SPACING));

        // ÂçÅËøõÂà∂
        var decLabel = new JLabel(Texts.DECIMAL_LABEL + " (DEC):");
        decLabel.setFont(AppleDesign.BODY_FONT);
        decLabel.setForeground(AppleDesign.SYSTEM_GRAY);
        inputPanel.add(decLabel);
        decimalField.setFont(AppleDesign.MONO_FONT);
        decimalField.setBackground(AppleDesign.TERTIARY_SYSTEM_BACKGROUND);
        decimalField.setBorder(BorderFactory.createCompoundBorder(
            BorderFactory.createLineBorder(AppleDesign.SYSTEM_GRAY4),
            BorderFactory.createEmptyBorder(AppleDesign.SMALL_SPACING, AppleDesign.MEDIUM_SPACING, AppleDesign.SMALL_SPACING, AppleDesign.MEDIUM_SPACING)
        ));
        inputPanel.add(decimalField);

        // ‰∫åËøõÂà∂
        var binLabel = new JLabel(Texts.BINARY_LABEL + " (BIN):");
        binLabel.setFont(AppleDesign.BODY_FONT);
        binLabel.setForeground(AppleDesign.SYSTEM_GRAY);
        inputPanel.add(binLabel);
        binaryField.setFont(AppleDesign.MONO_FONT);
        binaryField.setBackground(AppleDesign.TERTIARY_SYSTEM_BACKGROUND);
        binaryField.setBorder(BorderFactory.createCompoundBorder(
            BorderFactory.createLineBorder(AppleDesign.SYSTEM_GRAY4),
            BorderFactory.createEmptyBorder(AppleDesign.SMALL_SPACING, AppleDesign.MEDIUM_SPACING, AppleDesign.SMALL_SPACING, AppleDesign.MEDIUM_SPACING)
        ));
        inputPanel.add(binaryField);

        // ÂÖ´ËøõÂà∂
        var octLabel = new JLabel(Texts.OCTAL_LABEL + " (OCT):");
        octLabel.setFont(AppleDesign.BODY_FONT);
        octLabel.setForeground(AppleDesign.SYSTEM_GRAY);
        inputPanel.add(octLabel);
        octalField.setFont(AppleDesign.MONO_FONT);
        octalField.setBackground(AppleDesign.TERTIARY_SYSTEM_BACKGROUND);
        octalField.setBorder(BorderFactory.createCompoundBorder(
            BorderFactory.createLineBorder(AppleDesign.SYSTEM_GRAY4),
            BorderFactory.createEmptyBorder(AppleDesign.SMALL_SPACING, AppleDesign.MEDIUM_SPACING, AppleDesign.SMALL_SPACING, AppleDesign.MEDIUM_SPACING)
        ));
        inputPanel.add(octalField);

        // ÂçÅÂÖ≠ËøõÂà∂
        var hexLabel = new JLabel(Texts.HEX_LABEL + " (HEX):");
        hexLabel.setFont(AppleDesign.BODY_FONT);
        hexLabel.setForeground(AppleDesign.SYSTEM_GRAY);
        inputPanel.add(hexLabel);
        hexField.setFont(AppleDesign.MONO_FONT);
        hexField.setBackground(AppleDesign.TERTIARY_SYSTEM_BACKGROUND);
        hexField.setBorder(BorderFactory.createCompoundBorder(
            BorderFactory.createLineBorder(AppleDesign.SYSTEM_GRAY4),
            BorderFactory.createEmptyBorder(AppleDesign.SMALL_SPACING, AppleDesign.MEDIUM_SPACING, AppleDesign.SMALL_SPACING, AppleDesign.MEDIUM_SPACING)
        ));
        inputPanel.add(hexField);

        mainPanel.add(inputPanel);
        mainPanel.add(Box.createVerticalStrut(AppleDesign.LARGE_SPACING));

        // ‰ΩçË°®Á§∫Èù¢Êùø
        var bitPanel = AppleDesign.createRoundedPanel(AppleDesign.SMALL_RADIUS, AppleDesign.SECONDARY_SYSTEM_BACKGROUND);
        bitPanel.setLayout(new BorderLayout());
        bitPanel.setBorder(BorderFactory.createEmptyBorder(AppleDesign.LARGE_SPACING, AppleDesign.LARGE_SPACING, AppleDesign.LARGE_SPACING, AppleDesign.LARGE_SPACING));

        var bitTitle = new JLabel(Texts.BIT_PANEL_TITLE);
        bitTitle.setFont(AppleDesign.TITLE_FONT);
        bitTitle.setForeground(AppleDesign.SYSTEM_GREEN);
        bitTitle.setBorder(BorderFactory.createEmptyBorder(0, 0, AppleDesign.MEDIUM_SPACING, 0));
        bitPanel.add(bitTitle, BorderLayout.NORTH);

        bitRepresentationArea.setFont(AppleDesign.MONO_FONT);
        bitRepresentationArea.setEditable(false);
        bitRepresentationArea.setBackground(AppleDesign.TERTIARY_SYSTEM_BACKGROUND);
        bitRepresentationArea.setBorder(BorderFactory.createEmptyBorder(AppleDesign.MEDIUM_SPACING, AppleDesign.MEDIUM_SPACING, AppleDesign.MEDIUM_SPACING, AppleDesign.MEDIUM_SPACING));
        bitRepresentationArea.setRows(3);

        var bitScrollPane = new JScrollPane(bitRepresentationArea);
        bitScrollPane.setBorder(BorderFactory.createEmptyBorder());
        bitPanel.add(bitScrollPane, BorderLayout.CENTER);

        mainPanel.add(bitPanel);

        add(mainPanel, BorderLayout.CENTER);
    }
    
    private void createControlPanel() {
        var controlPanel = AppleDesign.createRoundedPanel(AppleDesign.MEDIUM_RADIUS, AppleDesign.TERTIARY_SYSTEM_BACKGROUND);
        controlPanel.setLayout(new FlowLayout(FlowLayout.LEFT, AppleDesign.MEDIUM_SPACING, AppleDesign.MEDIUM_SPACING));
        controlPanel.setBorder(BorderFactory.createEmptyBorder(AppleDesign.MEDIUM_SPACING, AppleDesign.EXTRA_LARGE_SPACING, AppleDesign.MEDIUM_SPACING, AppleDesign.EXTRA_LARGE_SPACING));

        AppleDesign.styleButton(convertButton, AppleDesign.SYSTEM_BLUE, Color.WHITE);
        AppleDesign.styleButton(clearButton, AppleDesign.SYSTEM_GRAY, Color.WHITE);
        AppleDesign.styleButton(copyAllButton, AppleDesign.SYSTEM_INDIGO, Color.WHITE);

        controlPanel.add(convertButton);
        controlPanel.add(clearButton);
        controlPanel.add(copyAllButton);

        add(controlPanel, BorderLayout.NORTH);
    }
    
    private void createStatusBar() {
        var statusPanel = AppleDesign.createRoundedPanel(AppleDesign.MEDIUM_RADIUS, AppleDesign.TERTIARY_SYSTEM_BACKGROUND);
        statusPanel.setLayout(new BorderLayout());
        statusPanel.setBorder(BorderFactory.createEmptyBorder(AppleDesign.SMALL_SPACING, AppleDesign.EXTRA_LARGE_SPACING, AppleDesign.SMALL_SPACING, AppleDesign.EXTRA_LARGE_SPACING));
        statusLabel.setFont(AppleDesign.CAPTION_FONT);
        statusLabel.setForeground(AppleDesign.SYSTEM_GRAY);
        statusPanel.add(statusLabel, BorderLayout.WEST);
        add(statusPanel, BorderLayout.SOUTH);
    }
    
    private void setupKeyboardShortcuts() {
        // Ê∑ªÂä†ÈîÆÁõòÂø´Êç∑ÈîÆÊîØÊåÅ
        this.addKeyListener(new java.awt.event.KeyAdapter() {
            @Override
            public void keyPressed(java.awt.event.KeyEvent ev) {
                int keyCode = ev.getKeyCode();

                switch (keyCode) {
                    case KeyEvent.VK_C:
                        // CÈîÆËΩ¨Êç¢Êï∞Â≠ó
                        if (ev.isControlDown()) {
                            performConversion(null);
                        }
                        break;
                    case KeyEvent.VK_L:
                        // LÈîÆÊ∏ÖÁ©∫
                        if (ev.isControlDown()) {
                            clearAll(null);
                        }
                        break;
                    case KeyEvent.VK_B:
                        // BÈîÆÂ§çÂà∂‰∫åËøõÂà∂
                        if (ev.isControlDown()) {
                            copyBinary(null);
                        }
                        break;
                    case KeyEvent.VK_O:
                        // OÈîÆÂ§çÂà∂ÂÖ´ËøõÂà∂
                        if (ev.isControlDown()) {
                            copyOctal(null);
                        }
                        break;
                    case KeyEvent.VK_D:
                        // DÈîÆÂ§çÂà∂ÂçÅËøõÂà∂
                        if (ev.isControlDown()) {
                            copyDecimal(null);
                        }
                        break;
                    case KeyEvent.VK_H:
                        // HÈîÆÂ§çÂà∂ÂçÅÂÖ≠ËøõÂà∂
                        if (ev.isControlDown()) {
                            copyHex(null);
                        }
                        break;
                    case KeyEvent.VK_A:
                        // AÈîÆÂ§çÂà∂ÂÖ®ÈÉ®
                        if (ev.isControlDown()) {
                            copyAllResults(null);
                        }
                        break;
                    case KeyEvent.VK_F1:
                        // F1ÈîÆÊòæÁ§∫Â∏ÆÂä©
                        showHelp();
                        break;
                    default:
                        return;
                }
            }
        });

        // Á°Æ‰øùÁ™óÂè£ÂèØ‰ª•Ëé∑ÂæóÁÑ¶ÁÇπ
        this.setFocusable(true);
        this.requestFocusInWindow();
    }

    private void showHelp() {
        JOptionPane.showMessageDialog(this, Texts.HELP_MESSAGE, "Â∏ÆÂä©", JOptionPane.INFORMATION_MESSAGE);
    }

    private void setupEventHandlers() {
        convertButton.addActionListener(this::performConversion);
        clearButton.addActionListener(this::clearAll);
        copyAllButton.addActionListener(this::copyAllResults);
        
        // ‰∏∫ÊØè‰∏™ËæìÂÖ•Ê°ÜÊ∑ªÂä†ÂõûËΩ¶ÈîÆÁõëÂê¨
        decimalField.addActionListener(this::performConversion);
        binaryField.addActionListener(this::performConversion);
        octalField.addActionListener(this::performConversion);
        hexField.addActionListener(this::performConversion);
    }
    
    private void loadSampleData() {
        decimalField.setText(Texts.SAMPLE_DECIMAL);
        performConversion(null);
    }
    
    private void performConversion(ActionEvent e) {
        try {
            long value = 0;
            var sourceField = "";
            
            // Á°ÆÂÆöËæìÂÖ•Ê∫ê
            if (!decimalField.getText().trim().isEmpty()) {
                value = Long.parseLong(decimalField.getText().trim());
                sourceField = "ÂçÅËøõÂà∂";
            } else if (!binaryField.getText().trim().isEmpty()) {
                value = Long.parseLong(binaryField.getText().trim(), 2);
                sourceField = "‰∫åËøõÂà∂";
            } else if (!octalField.getText().trim().isEmpty()) {
                value = Long.parseLong(octalField.getText().trim(), 8);
                sourceField = "ÂÖ´ËøõÂà∂";
            } else if (!hexField.getText().trim().isEmpty()) {
                value = Long.parseLong(hexField.getText().trim(), 16);
                sourceField = "ÂçÅÂÖ≠ËøõÂà∂";
            } else {
                statusLabel.setText(Texts.ERROR_INVALID_INPUT);
                return;
            }
            
            // Êõ¥Êñ∞ÊâÄÊúâÂ≠óÊÆµ
            updateAllFields(value);
            
            // Êõ¥Êñ∞‰ΩçË°®Á§∫
            updateBitRepresentation(value);
            
            statusLabel.setText(Texts.STATUS_CONVERTED + " - Ê∫ê: " + sourceField + " (" + value + ")");
            
        } catch (NumberFormatException ex) {
            statusLabel.setText(Texts.ERROR_INVALID_INPUT);
            JOptionPane.showMessageDialog(this, 
                "Êï∞ÂÄºÊ†ºÂºèÈîôËØØÔºåËØ∑Ê£ÄÊü•ËæìÂÖ•", 
                "Ê†ºÂºèÈîôËØØ", 
                JOptionPane.ERROR_MESSAGE);
        } catch (Exception ex) {
            statusLabel.setText("ËΩ¨Êç¢Â§±Ë¥•");
            JOptionPane.showMessageDialog(this, 
                "ËΩ¨Êç¢Â§±Ë¥•: " + ex.getMessage(), 
                "ÈîôËØØ", 
                JOptionPane.ERROR_MESSAGE);
        }
    }
    
    private void updateAllFields(long value) {
        decimalField.setText(String.valueOf(value));
        binaryField.setText(Long.toBinaryString(value));
        octalField.setText(Long.toOctalString(value));
        hexField.setText(Long.toHexString(value).toUpperCase());
    }
    
    private void updateBitRepresentation(long value) {
        var binaryStr = String.format("%32s", Long.toBinaryString(value)).replace(' ', '0');
        
        var representation = new StringBuilder();
        representation.append(Texts.BIT_PANEL_TITLE + ":\n");
        
        // ÂàÜÁªÑÊòæÁ§∫ÔºåÊØè4‰Ωç‰∏ÄÁªÑ
        for (int i = 0; i < 32; i += 4) {
            if (i > 0 && i % 16 == 0) {
                representation.append("\n");
            }
            representation.append(binaryStr.substring(i, i + 4)).append(" ");
        }
        
        representation.append("\n\n");
        representation.append("Êï∞ÂÄº‰ø°ÊÅØ:\n");
        representation.append("ÊúâÁ¨¶Âè∑32‰ΩçÊï¥Êï∞: ").append((int) value).append("\n");
        representation.append("Êó†Á¨¶Âè∑32‰ΩçÊï¥Êï∞: ").append(value & 0xFFFFFFFFL).append("\n");
        
        // Â≠óËäÇË°®Á§∫
        representation.append("Â≠óËäÇË°®Á§∫: ");
        for (int i = 24; i >= 0; i -= 8) {
            var byteValue = (value >> i) & 0xFF;
            representation.append(String.format("%02X ", byteValue));
        }
        
        bitRepresentationArea.setText(representation.toString());
    }
    
    private void clearAll(ActionEvent e) {
        decimalField.setText("");
        binaryField.setText("");
        octalField.setText("");
        hexField.setText("");
        bitRepresentationArea.setText("");
        statusLabel.setText(Texts.STATUS_CLEARED);
    }
    
    private void copyAllResults(ActionEvent e) {
        if (decimalField.getText().trim().isEmpty()) {
            statusLabel.setText("Ê≤°ÊúâÂèØÂ§çÂà∂ÁöÑÂÜÖÂÆπ");
            return;
        }
        
        var result = new StringBuilder();
        result.append("ËøõÂà∂ËΩ¨Êç¢ÁªìÊûú:\n");
        result.append(Texts.DECIMAL_LABEL + " ").append(decimalField.getText()).append("\n");
        result.append(Texts.BINARY_LABEL + " ").append(binaryField.getText()).append("\n");
        result.append(Texts.OCTAL_LABEL + " ").append(octalField.getText()).append("\n");
        result.append(Texts.HEX_LABEL + " ").append(hexField.getText()).append("\n");
        result.append("\n").append(bitRepresentationArea.getText());
        
        var clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();
        var selection = new StringSelection(result.toString());
        clipboard.setContents(selection, null);
        
        statusLabel.setText(Texts.STATUS_COPIED);
    }

    private void copyBinary(ActionEvent e) {
        copyIndividualResult(binaryField.getText(), "‰∫åËøõÂà∂");
    }

    private void copyOctal(ActionEvent e) {
        copyIndividualResult(octalField.getText(), "ÂÖ´ËøõÂà∂");
    }

    private void copyDecimal(ActionEvent e) {
        copyIndividualResult(decimalField.getText(), "ÂçÅËøõÂà∂");
    }

    private void copyHex(ActionEvent e) {
        copyIndividualResult(hexField.getText(), "ÂçÅÂÖ≠ËøõÂà∂");
    }

    private void copyIndividualResult(String text, String type) {
        if (text.trim().isEmpty()) {
            statusLabel.setText("Ê≤°ÊúâÂèØÂ§çÂà∂ÁöÑ" + type + "ÂÜÖÂÆπ");
            return;
        }

        var clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();
        var selection = new StringSelection(text);
        clipboard.setContents(selection, null);

        statusLabel.setText(type + "Â∑≤Â§çÂà∂Âà∞Ââ™Ë¥¥Êùø");
    }
}
